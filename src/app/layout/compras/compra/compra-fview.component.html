<div class="formato1">
  <div class="formato2">
    <h1>
      <mat-icon>assignment</mat-icon> Compra {{compra.id_compra}}
    </h1>
    <h2>Compra {{compra.estatus}} </h2>
  </div>

  <div>
      <mat-form-field appearance="fill" class="inputs">
        <mat-label>Fecha de la compra</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="compra.fecha_creacion" name="fecha_creacion" *ngIf="compra.estatus==='En proceso'" >
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill" class="largeInput">
        <mat-label>Proveedor </mat-label>
        <input matInput [(ngModel)]="compra.proveedor.nombre" name="proveedor" >
      </mat-form-field>
  </div>


  <div>
    <mat-form-field appearance="standard" class="area-txt">
      <mat-label>Filtrar por </mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ejemplo compra 1" #input>
    </mat-form-field>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="tipo_unidad">
        <th mat-header-cell *matHeaderCellDef> Tipo de unidad </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.producto.unidad.descripcion}} </td>
      </ng-container>

      <ng-container matColumnDef="descripcion_producto">
        <th mat-header-cell *matHeaderCellDef> Producto </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.producto.descripcion}} </td>
      </ng-container>

      <ng-container matColumnDef="cant_existente">
        <th mat-header-cell *matHeaderCellDef> Cantidad existente </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.cant_existente}} </td>
      </ng-container>

      <ng-container matColumnDef="cant_solicitada">
        <th mat-header-cell *matHeaderCellDef> Cantidad solicituda </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.cant_solicitada}} </td>
      </ng-container>

      <ng-container matColumnDef="cant_autorizada">
        <th mat-header-cell *matHeaderCellDef> Cantidad autorizada </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.cant_autorizada}} </td>
      </ng-container>

      <ng-container matColumnDef="cant_comprada">
        <th mat-header-cell *matHeaderCellDef> Cantidad comprada </th>
        <td mat-cell *matCellDef="let detalle_compra">
          <mat-form-field appearance="fill">
            <mat-label>Cantidad comprada</mat-label>
            <input matInput [(ngModel)]="detalle_compra.cant_comprada" name="cant_comprada" >
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="cant_final">
        <th mat-header-cell *matHeaderCellDef> Cantidad final </th>
        <td mat-cell *matCellDef="let detalle_compra"> {{detalle_compra.cant_final}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">Su busqueda "{{input.value}}" no ha podido acompletarse</td>
      </tr>
    </table>
  </div>

  <mat-form-field appearance="outline" class="inputs">
    <mat-label>Observaciones </mat-label>
    <textarea matInput [(ngModel)]="compra.observaciones" name="observaciones"></textarea>
  </mat-form-field>

  <mat-form-field appearance="outline" class="largeInput">
    <mat-label>Ticket </mat-label>
    <input matInput [(ngModel)]="compra.ticket" name="ticket">
  </mat-form-field>
